{
  "componentChunkName": "component-mdx.js",
  "path": "/client-certificates/troubleshooting",
  "result": {
    "data": {
      "mdx": {
        "id": "1c83ce02-1a47-50eb-a966-bfc497f63803",
        "body": ""
       
      }
    },
    "pageContext": {
      "id": "1c83ce02-1a47-50eb-a966-bfc497f63803",
      "fields": {
        "slug": "/client-certificates/troubleshooting"
      },
      "frontmatter": {
        "title": "",
        "type": null,
        "order": 6
      },
      "headings": [
        {
          "value": "Troubleshooting - headings 3",
          "depth": 1
        }
      ],
      "tableOfContents": {
        "items": [
          {
            "url": "#troubleshooting",
            "title": "Troubleshooting - tableOfContents",
            "items": [
              {
                "url": "#ssltls-handshake",
                "title": "SSL/TLS handshake"
              },
              {
                "url": "#mtls-host-enablement",
                "title": "mTLS host enablement"
              },
              {
                "url": "#mtls-rules",
                "title": "mTLS rules"
              }
            ]
          }
        ]
      },
      "parent": {
        "modifiedTime": "2021-07-26",
        "relativePath": "client-certificates/troubleshooting.md"
      }
    }
  },
  "staticQueryHashes": [
    "000000003",
    "000000001",
    "000000002",
    "123456789",
    "113355779"
  ]
}





var _excluded = ["components"];

function _extends() {
	_extends = Object.assign || function(target) {
		for (var i = 1; i < arguments.length; i++) {
			var source = arguments[i];
			for (var key in source) {
				if (Object.prototype.hasOwnProperty.call(source, key)) {
					target[key] = source[key];
				}
			}
		}
		return target;
	};
	return _extends.apply(this, arguments);
}

function _objectWithoutProperties(source, excluded) {
	if (source == null) return {};
	var target = _objectWithoutPropertiesLoose(source, excluded);
	var key, i;
	if (Object.getOwnPropertySymbols) {
		var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
		for (i = 0; i < sourceSymbolKeys.length; i++) {
			key = sourceSymbolKeys[i];
			if (excluded.indexOf(key) >= 0) continue;
			if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
			target[key] = source[key];
		}
	}
	return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
	if (source == null) return {};
	var target = {};
	var sourceKeys = Object.keys(source);
	var key, i;
	for (i = 0; i < sourceKeys.length; i++) {
		key = sourceKeys[i];
		if (excluded.indexOf(key) >= 0) continue;
		target[key] = source[key];
	}
	return target;
} /* @jsx mdx */
var _frontmatter = {
	"order": 6,
	"pcx-content-type": "faq"
};
var makeShortcode = function makeShortcode(name) {
	return function MDXDefaultShortcode(props) {
		console.warn("Component " + name + " was not imported, exported, or provided by MDXProvider as global scope");
		return mdx("div", props);
	};
};
var layoutProps = {
	_frontmatter: _frontmatter
};
var MDXLayout = "wrapper";
return function MDXContent(_ref) {
	var components = _ref.components,
		props = _objectWithoutProperties(_ref, _excluded);
	return mdx(MDXLayout, _extends({}, layoutProps, props, {
		components: components,
		mdxType: "MDXLayout"
	}), 
	
	mdx("h1", {
		"id": "troubleshooting"
	}, "Troubleshooting - body"), mdx("p", null, "If your query returns an error even after configuring and embedding a client SSL certificate, check the following settings."), mdx("hr", null), mdx("h2", {
		"id": "ssltls-handshake"
	}, "SSL/TLS handshake"), mdx("p", null, "On your terminal, use the following command to check whether an SSL/TLS connection can be established successfully between the client and the API endpoint."), mdx("pre", null, mdx("code", {
		parentName: "pre",
		"className": "language-bash"
	}, "curl -v --cert /path/to/certificate.pem --key /path/to/key.pem  https://your-api-endpoint.com\ ")), mdx("p", null, "If the SSL/TLS handshake cannot be completed, check whether the certificate and the private key are correct."), mdx("hr", null), mdx("h2", {
		"id": "mtls-host-enablement"
	}, "mTLS host enablement"), mdx("p", null, "On your dashboard, click ", mdx("strong", {
		parentName: "p"
	}, "SSL/TLS"), " > ", mdx("strong", {
		parentName: "p"
	}, "Client Certificates"), ". Check whether mTLS has been enabled for the correct host. The host should match the API endpoint that you want to protect. For example, if your API endpoint is ", mdx("inlineCode", {
		parentName: "p"
	}, "api.trackers.ninja/time"), ", then you should add ", mdx("inlineCode", {
		parentName: "p"
	}, "api.trackers.ninja"), " under \\u201CHosts\\u201D.\ ", mdx("span", {
		parentName: "p",
		"className": "gatsby-resp-image-wrapper",
		"style": {
			"position": "relative",
			"display": "block",
			"marginLeft": "auto",
			"marginRight": "auto",
			"maxWidth": "1097px"
		}
	}, "\       ", mdx("a", {
		parentName: "span",
		"className": "gatsby-resp-image-link",
		"href": "/ssl/static/363cc64658b865730850b035fed044ee/66465/client-certificates-host-enablement.png",
		"style": {
			"display": "block"
		},
		"target": "_blank",
		"rel": "noopener"
	}, "\     ", mdx("span", {
		parentName: "a",
		"className": "gatsby-resp-image-background-image",
		"style": {
			"paddingBottom": "46.82080924855491%",
			"position": "relative",
			"bottom": "0",
			"left": "0",
			"backgroundImage": "url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAAB5UlEQVQoz42QW08UQRCF55/qr/AXCGowPmhEoi9GEfdFFEK4GC4PBlFxfZDEoAjs7rCXue9cu2dmZz9rZiPx0U5OTtWp7upTZZz2Ep6sXbH4zmRuucO9lXMevjhgcfWMpfUBcy8vuN/qNvXHb02pd5hfvmSh1eHZRp9HqyZ3X3UavTPKMEaeZvfYYu+rzc4Xh82PA3YPf7B3PGD/m8vmkcXOZ4v9ts1e22H7k8XG4ZDtRnPYOhqwJdr6hz5OoDFUlqLSgEJFqMRHZyF+EOK6DlE4Js/GlDoSfUwW+1RFAlMFlWI6UbO8jkvpI70MrTVZplBqxkmaYXsxlhvjBSlJkpKKVqOJ/969Ri7vZrHOcwz5jrIoKAS5CP9zyrJEq4wiz8j1jLVKG92oplOGls1lt8vZ+Tm26zGOandj/PEMQRhJHhCGIVVVNQYGlk9v4NMf+ZjDGdeGjGoywTV7pJ6DCjxS2V3i2g1ixyKyRyTCsdSjOEbpeooJD1pn3Jg/4dbSKTfvnHD7+c/auzSURXrf20TDPsoekstj7YwoPBvi8BrTfvffoXlz0GPh9W+erl02vPJe6lUhDbUiu/hFaHZQwysqaTRxLSbClbia+g6FY6OuTFl3JRunGU1nEWUek6u44TrX4v4PV+uYBl9/V5EAAAAASUVORK5CYII=')",
			"backgroundSize": "cover",
			"display": "block"
		}
	}), "\   ", mdx("img", {
		parentName: "a",
		"className": "gatsby-resp-image-image",
		"alt": "Client Certificates host enablement",
		"title": "Client Certificates host enablement",
		"src": "/ssl/static/363cc64658b865730850b035fed044ee/66465/client-certificates-host-enablement.png",
		"srcSet": ["/ssl/static/363cc64658b865730850b035fed044ee/8f77f/client-certificates-host-enablement.png 346w", "/ssl/static/363cc64658b865730850b035fed044ee/e185b/client-certificates-host-enablement.png 691w", "/ssl/static/363cc64658b865730850b035fed044ee/66465/client-certificates-host-enablement.png 1097w"],
		"sizes": "(max-width: 1097px) 100vw, 1097px",
		"style": {
			"width": "100%",
			"height": "100%",
			"margin": "0",
			"verticalAlign": "middle",
			"position": "absolute",
			"top": "0",
			"left": "0"
		},
		"loading": "lazy"
	}), "\   "), "\     ")), mdx("hr", null), mdx("h2", {
		"id": "mtls-rules"
	}, "mTLS rules"), mdx("p", null, "To review mTLS rules:"), mdx("ol", null, mdx("li", {
		parentName: "ol"
	}, "Click ", mdx("strong", {
		parentName: "li"
	}, "Firewall"), " > ", mdx("strong", {
		parentName: "li"
	}, "Firewall Rules"), "."), mdx("li", {
		parentName: "ol"
	}, "On a specific rule, click ", mdx("strong", {
		parentName: "li"
	}, "Edit"), "."), mdx("li", {
		parentName: "ol"
	}, "On that rule, check whether:", mdx("ul", {
		parentName: "li"
	}, mdx("li", {
		parentName: "ul"
	}, "The Expression Preview is correct"), mdx("li", {
		parentName: "ul"
	}, "The hostname matches your API endpoint. For example, for the API endpoint ", mdx("inlineCode", {
		parentName: "li"
	}, "api.trackers.ninja/time"), ", the rule should look like:", mdx("pre", {
		parentName: "li"
	}, mdx("code", {
			parentName: "pre",
			"className": "language-txt"
		}, "(http.host in {\\"
		api.trackers.ninja\\ "} and not cf.tls_client_auth.cert_verified) \ "))))), mdx("li", {
		parentName: "ol"
	}, "To edit the rule, either use the user interface or click ", mdx("strong", {
		parentName: "li"
	}, "Edit expression"), ".")));
};
MDXContent.isMDXComponent = true;